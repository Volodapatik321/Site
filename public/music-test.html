<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Music Test - Android 15</title>
    <style>
        body { padding: 20px; font-family: Arial; background: #1a1a2e; color: white; }
        .test-case { 
            background: #4361ee; padding: 15px; margin: 10px 0; 
            border-radius: 10px;
        }
        .btn { 
            background: #10b981; color: white; padding: 15px; 
            border: none; border-radius: 8px; width: 100%; margin: 5px 0;
            font-size: 16px;
        }
        .result { 
            padding: 10px; margin: 5px 0; 
            border-radius: 5px; background: #2d3748;
        }
    </style>
</head>
<body>
    <h1>üéµ Music File Test - Android 15</h1>
    <p>–ü—Ä–æ–≤–µ—Ä–∏–º —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å –º—É–∑—ã–∫–æ–π:</p>
    
    <div class="test-case">
        <h3>üé§ 1. –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ —Å –º–∏–∫—Ä–æ—Ñ–æ–Ω–∞</h3>
        <input type="file" accept="audio/*" capture="user" id="recordAudio" style="display: none;">
        <button class="btn" onclick="document.getElementById('recordAudio').click()">
            üé§ –ó–∞–ø–∏—Å–∞—Ç—å –∞—É–¥–∏–æ
        </button>
        <div id="result1" class="result">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
    </div>
    
    <div class="test-case">
        <h3>üìÅ 2. –í—ã–±–æ—Ä –∞—É–¥–∏–æ —Ñ–∞–π–ª–∞</h3>
        <input type="file" accept="audio/*" id="selectAudio" style="display: none;">
        <button class="btn" onclick="document.getElementById('selectAudio').click()">
            üóÇ –í—ã–±—Ä–∞—Ç—å –º—É–∑—ã–∫—É
        </button>
        <div id="result2" class="result">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
    </div>
    
    <div class="test-case">
        <h3>üéµ 3. –í—ã–±–æ—Ä –ª—é–±–æ–≥–æ —Ñ–∞–π–ª–∞</h3>
        <input type="file" accept="*/*" id="selectAny" style="display: none;">
        <button class="btn" onclick="document.getElementById('selectAny').click()">
            üìé –í—ã–±—Ä–∞—Ç—å –ª—é–±–æ–π —Ñ–∞–π–ª
        </button>
        <div id="result3" class="result">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
    </div>
    
    <div class="test-case">
        <h3>üåê 4. –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Å—Å—ã–ª–∫–µ</h3>
        <input type="url" id="audioUrl" placeholder="https://example.com/music.mp3" style="width: 100%; padding: 10px; margin: 5px 0;">
        <button class="btn" onclick="testUrl()">üì• –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ</button>
        <div id="result4" class="result">–û–∂–∏–¥–∞–Ω–∏–µ...</div>
    </div>

    <audio id="audioPlayer" controls style="width: 100%; margin-top: 20px; display: none;"></audio>
    <div id="fileInfo" style="padding: 15px; margin: 15px 0; background: #16213e; border-radius: 10px;"></div>

    <script>
        function updateResult(id, message, success) {
            const element = document.getElementById(id);
            element.innerHTML = message;
            element.style.background = success ? '#059669' : '#dc2626';
        }
        
        function showFileInfo(file) {
            const info = document.getElementById('fileInfo');
            const audio = document.getElementById('audioPlayer');
            
            if (file) {
                info.innerHTML = `
                    <strong>üìÅ –§–∞–π–ª:</strong> ${file.name}<br>
                    <strong>üì¶ –¢–∏–ø:</strong> ${file.type}<br>
                    <strong>üíæ –†–∞–∑–º–µ—Ä:</strong> ${(file.size / 1024 / 1024).toFixed(2)} MB<br>
                    <strong>‚úÖ –°—Ç–∞—Ç—É—Å:</strong> –§–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω!
                `;
                
                // –ü—Ä–æ–±—É–µ–º –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏
                const url = URL.createObjectURL(file);
                audio.src = url;
                audio.style.display = 'block';
                
                updateResult('fileInfo', '‚úÖ –ê—É–¥–∏–æ –≥–æ—Ç–æ–≤–æ –∫ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—é!', true);
            }
        }
        
        // –¢–µ—Å—Ç 1: –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ
        document.getElementById('recordAudio').addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                updateResult('result1', '‚úÖ –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ —Ä–∞–±–æ—Ç–∞–µ—Ç!', true);
                showFileInfo(file);
            } else {
                updateResult('result1', '‚ùå –ó–∞–ø–∏—Å—å –∞—É–¥–∏–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', false);
            }
        });
        
        // –¢–µ—Å—Ç 2: –í—ã–±–æ—Ä –∞—É–¥–∏–æ
        document.getElementById('selectAudio').addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                updateResult('result2', '‚úÖ –í—ã–±–æ—Ä –∞—É–¥–∏–æ —Ñ–∞–π–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç!', true);
                showFileInfo(file);
            } else {
                updateResult('result2', '‚ùå –í—ã–±–æ—Ä –∞—É–¥–∏–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', false);
            }
        });
        
        // –¢–µ—Å—Ç 3: –í—ã–±–æ—Ä –ª—é–±–æ–≥–æ —Ñ–∞–π–ª–∞
        document.getElementById('selectAny').addEventListener('change', function() {
            const file = this.files[0];
            if (file) {
                updateResult('result3', `‚úÖ –í—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç! –¢–∏–ø: ${file.type}`, true);
                showFileInfo(file);
            } else {
                updateResult('result3', '‚ùå –í—ã–±–æ—Ä —Ñ–∞–π–ª–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç', false);
            }
        });
        
        // –¢–µ—Å—Ç 4: –ó–∞–≥—Ä—É–∑–∫–∞ –ø–æ —Å—Å—ã–ª–∫–µ
        function testUrl() {
            const url = document.getElementById('audioUrl').value;
            if (url) {
                const audio = document.getElementById('audioPlayer');
                audio.src = url;
                audio.style.display = 'block';
                updateResult('result4', '‚úÖ –ü—Ä–æ–±—É–µ–º –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–æ —Å—Å—ã–ª–∫–µ...', true);
                
                audio.addEventListener('canplay', function() {
                    updateResult('result4', '‚úÖ –ê—É–¥–∏–æ –ø–æ —Å—Å—ã–ª–∫–µ —Ä–∞–±–æ—Ç–∞–µ—Ç!', true);
                });
                
                audio.addEventListener('error', function() {
                    updateResult('result4', '‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ', false);
                });
            }
        }
        
        // –°—Ç–∞—Ä—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
        updateResult('fileInfo', '–í—ã–±–µ—Ä–∏—Ç–µ —Å–ø–æ—Å–æ–± –∑–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∞', true);
    </script>
</body>
</html>
